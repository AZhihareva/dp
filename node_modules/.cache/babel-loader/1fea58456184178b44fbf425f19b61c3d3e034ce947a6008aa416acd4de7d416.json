{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Anastasia/Documents/Study/dp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/Anastasia/Documents/Study/dp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport LoginCard from '../components/LoginCard.vue';\nimport { getAccounts } from '../state/accounts';\nexport default {\n  __name: 'Login',\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose;\n    __expose();\n    var router = useRouter();\n    var title = ref('Log in');\n    var account = ref(\"Don't have account?\");\n    var accountBtn = ref('Create');\n    function onLogin(_x) {\n      return _onLogin.apply(this, arguments);\n    }\n    function _onLogin() {\n      _onLogin = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref2) {\n        var login, password, accounts, account;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              login = _ref2.login, password = _ref2.password;\n              _context.next = 3;\n              return getAccounts();\n            case 3:\n              accounts = _context.sent;\n              account = accounts.find(function (item) {\n                return item.login === login;\n              });\n              if (account) {\n                if (account.password === password) {\n                  router.push('/groups');\n                } else {\n                  alert('Incorrect password');\n                }\n              } else {\n                alert('This user not exists');\n              }\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      return _onLogin.apply(this, arguments);\n    }\n    var __returned__ = {\n      router: router,\n      title: title,\n      account: account,\n      accountBtn: accountBtn,\n      onLogin: onLogin,\n      ref: ref,\n      get useRouter() {\n        return useRouter;\n      },\n      LoginCard: LoginCard,\n      get getAccounts() {\n        return getAccounts;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","useRouter","LoginCard","getAccounts","router","title","account","accountBtn","onLogin","_x","_onLogin","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref2","login","password","accounts","wrap","_callee$","_context","prev","next","sent","find","item","push","alert","stop"],"sources":["C:/Users/Anastasia/Documents/Study/dp/src/views/Login.vue"],"sourcesContent":["<template>\r\n    <div class=\"container\">\r\n        <login-card :title=\"title\" @action=\"onLogin\"></login-card>\r\n    </div>\r\n    <div class=\"center\">\r\n            <h4>{{ account }}</h4>\r\n            <button class=\"btn\" @click=\"$router.push('/signin')\">{{ accountBtn }}</button>\r\n        </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {ref} from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport LoginCard from '../components/LoginCard.vue';\r\nimport { getAccounts } from '../state/accounts';\r\n\r\nconst router = useRouter();\r\n    const title = ref('Log in');\r\n    const account = ref(\"Don't have account?\");\r\n    const accountBtn = ref('Create');\r\n    async function onLogin({login, password}) {\r\n        const accounts = await getAccounts();\r\n        const account = accounts.find(item => item.login === login);\r\n        if (account) {\r\n            if (account.password === password) {\r\n                router.push('/groups');\r\n            } else {\r\n                alert('Incorrect password');\r\n            }\r\n        } else {\r\n            alert('This user not exists');\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n.center{\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    color: aliceblue;\r\n}\r\n</style>"],"mappings":";;;;;;;;AAWA,SAAQA,GAAG,QAAO,KAAK;AACvB,SAASC,SAAS,QAAQ,YAAY;AACtC,OAAOC,SAAS,MAAM,6BAA6B;AACnD,SAASC,WAAW,QAAQ,mBAAmB;;;;;;IAE/C,IAAMC,MAAM,GAAGH,SAAS,CAAC,CAAC;IACtB,IAAMI,KAAK,GAAGL,GAAG,CAAC,QAAQ,CAAC;IAC3B,IAAMM,OAAO,GAAGN,GAAG,CAAC,qBAAqB,CAAC;IAC1C,IAAMO,UAAU,GAAGP,GAAG,CAAC,QAAQ,CAAC;IAAC,SAClBQ,OAAOA,CAAAC,EAAA;MAAA,OAAAC,QAAA,CAAAC,KAAA,OAAAC,SAAA;IAAA;IAAA,SAAAF,SAAA;MAAAA,QAAA,GAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAtB,SAAAC,QAAAC,KAAA;QAAA,IAAAC,KAAA,EAAAC,QAAA,EAAAC,QAAA,EAAAd,OAAA;QAAA,OAAAQ,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAwBP,KAAK,GAAAD,KAAA,CAALC,KAAK,EAAEC,QAAQ,GAAAF,KAAA,CAARE,QAAQ;cAAAI,QAAA,CAAAE,IAAA;cAAA,OACZtB,WAAW,CAAC,CAAC;YAAA;cAA9BiB,QAAQ,GAAAG,QAAA,CAAAG,IAAA;cACRpB,OAAO,GAAGc,QAAQ,CAACO,IAAI,CAAC,UAAAC,IAAI;gBAAA,OAAIA,IAAI,CAACV,KAAK,KAAKA,KAAK;cAAA,EAAC;cAC3D,IAAIZ,OAAO,EAAE;gBACT,IAAIA,OAAO,CAACa,QAAQ,KAAKA,QAAQ,EAAE;kBAC/Bf,MAAM,CAACyB,IAAI,CAAC,SAAS,CAAC;gBAC1B,CAAC,MAAM;kBACHC,KAAK,CAAC,oBAAoB,CAAC;gBAC/B;cACJ,CAAC,MAAM;gBACHA,KAAK,CAAC,sBAAsB,CAAC;cACjC;YAAC;YAAA;cAAA,OAAAP,QAAA,CAAAQ,IAAA;UAAA;QAAA,GAAAf,OAAA;MAAA,CACJ;MAAA,OAAAN,QAAA,CAAAC,KAAA,OAAAC,SAAA;IAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}